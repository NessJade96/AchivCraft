# Wowchat

## User Story

1. AS a user I want to log in to the platform.
2. AS a logged in user I want to be able to follow characters
3. AS a logged in user I want to see my followed characters' most recent achievements on the home page.
4. AS a logged in user I want to be able to unfollow characters.
5. As a logged in user I want to be able to logout.

## pages:

Log in page
Home page (timeline showing recent character achievements)
Search page (displays table of characters to follow based on search)
User page (page to show who you follow - option to unfollow/remove)

## API Endpoints

### Query wow Characters:

https://develop.battle.net/documentation/world-of-warcraft/profile-apis

Setup my battlenet to use OAuth

### OAuth Access token:

In postman select POST query > Authorization > Basic Auth > _Enter client ID and Secret from Bliz_
In postman select GET query > Authorization > Bearer Token > _Enter the returned Access Token from above request_

## think about what APIs

### Endpoints I am defining for the app :)

1. Get Character/{RealmSlug}/{characterName}/achievements
   - This endpoint returns a summary of the achievements a character has completed.
2. Post Follow
   - Adds a character to the users account
   - payload contains: userID, RealmSlug, characterName, region
3.

## Database

SQL

## Github example for oAuth stuff:

https://github.com/Blizzard/node-signature-generator/tree/master

WOW: Client Credentials Flow
https://develop.battle.net/documentation/guides/using-oauth/client-credentials-flow?_gl=1*422mxk*_ga*NzQyNzk1MzY0LjE3MDM3NDQwODg.*_ga_VYKNV7C0S3*MTcwNzIwNjA4Ny4zLjEuMTcwNzIwNzgyMi42MC4wLjA.

Getting Started: https://develop.battle.net/documentation/guides/getting-started

##

To start server cd into server and run in git "node --watch index.js"

## Work on front end

installed Vite
made some pages with react router
in the /login page did a call "ping" using a react router Form and action to GET data from the server yo >>

##

Created a DB on supabase: https://supabase.com/dashboard/project/orxjphplghtiznnhxddv
Seeded DB online and logged in the user then returned logged in users info to console

##

Created the ability to enter details on login page, and create new users via the signup page.

## to do next time

- set up DB (think relationships between users and followers)
- Create follow button for Search page for the character listed.
- Working in the Search.tsx on the follow Action/POST request.

### DB structure:

Created in supabase's online webapp to store db in the cloud
4 tables in supabase:
User, Character, Follow, Achievement

### User comlumns:

Email:
Provider: (eg. confirmed via email, phone, etc)
created_at:
last sign in: date
user UID: eg. 359a0a6f-903f-4253-81a2-6d671a5836da

### Character columns:

id:
Created_at:
updated_at:
Name:
Faction:
Race:
Class:
Achievement_Points:
Total_achievments: (number of achievements completed)

### Follow columns:

id:
Created_at:
updated_at:
user_id: (references user UID column of user table)
character_id: (references id of column in character table)
Foreign key - user and character tables

### Achievement columns:

id:
created_at:
name:
points:
wow_api_id:
completed_timestamp: (in wow api its as unix epoch - will need to convert to store in db)
character_id:(references id of column in character table)
Foreign key - character table

##

Next, Ill do the logout function
Then render characters achievements to the home page / timeline
